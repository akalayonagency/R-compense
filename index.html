<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Calculateur TikTok</title>
  <style>
    :root{
      --ink:#111; --muted:#666; --line:#e7e7e7;
      --gold:#caa44a; --gold2:#b58f36; --bg:#fff;
      --radius:16px;
    }
    body{ font-family: Arial, system-ui, sans-serif; margin:0; background:var(--bg); color:var(--ink); }
    .wrap{ max-width:900px; margin:40px auto; padding:0 16px; }
    .card{
      border:1px solid var(--line); border-radius:var(--radius);
      box-shadow:0 18px 40px rgba(0,0,0,.08); overflow:hidden;
      background:linear-gradient(135deg, rgba(202,164,74,.18), rgba(181,143,54,.06));
    }
    header{ padding:18px; border-bottom:1px solid var(--line); background:rgba(255,255,255,.85); }
    header h1{ margin:0; font-size:18px; }
    header p{ margin:6px 0 0; color:var(--muted); font-size:13px; line-height:1.4; }

    .content{ padding:18px; background:rgba(255,255,255,.92); }
    .row{ display:grid; grid-template-columns: 1fr 1fr 1fr; gap:12px; }
    @media (max-width: 720px){ .row{ grid-template-columns:1fr; } }

    .field{ border:1px solid var(--line); border-radius:14px; padding:12px; background:#fff; }
    .field label{ display:flex; justify-content:space-between; font-weight:700; font-size:13px; margin-bottom:8px; }
    .field small{ color:var(--muted); font-weight:500; }
    .input{
      display:flex; gap:8px; align-items:center;
      border:1px solid var(--line); border-radius:12px; padding:8px 10px;
    }
    .input input{
      width:100%; border:0; outline:none; font-size:14px; background:transparent;
    }
    .unit{ color:var(--muted); font-size:13px; white-space:nowrap; }

    .result{
      margin-top:12px; border:1px solid var(--line); border-radius:14px; padding:14px; background:#fff;
    }
    .badge{
      display:inline-flex; gap:8px; align-items:center;
      border:1px solid var(--line); border-radius:999px; padding:6px 10px; font-weight:800; font-size:12px;
      background:rgba(202,164,74,.10);
    }
    .big{ font-size:34px; font-weight:900; margin:10px 0 6px; }
    .muted{ color:var(--muted); font-size:13px; line-height:1.4; }

    .btns{ display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; }
    button{
      border:1px solid var(--line); border-radius:12px; padding:10px 12px; cursor:pointer; font-weight:800;
      background:#fff;
    }
    .primary{ border-color:rgba(202,164,74,.55); background:linear-gradient(135deg, rgba(202,164,74,.35), rgba(181,143,54,.18)); }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="card">
      <header>
        <h1>Calculateur de rÃ©compense Layon Agency</h1>
        <p>Entre tes stats : palier dÃ©tectÃ© + estimation de rÃ©compense + ce quâ€™il manque pour le palier suivant.</p>
      </header>

      <div class="content">
        <div class="row">
          <div class="field">
            <label>Jours <small>(min 0)</small></label>
            <div class="input">
              <input type="number" id="jours" min="0" step="1" placeholder="0" />
              <span class="unit">jours</span>
            </div>
          </div>

          <div class="field">
            <label>Heures <small>(min 0)</small></label>
            <div class="input">
              <input type="number" id="heures" min="0" step="1" placeholder="0" />
              <span class="unit">h</span>
            </div>
          </div>

          <div class="field">
            <label>Diamants <small>(min 0)</small></label>
            <div class="input">
              <input type="number" id="diamants" min="0" step="100" placeholder="0" />
              <span class="unit">ðŸ’Ž</span>
            </div>
          </div>
        </div>

        <div class="result">
          <div class="badge" id="palier">Aucun palier</div>
          <div class="big" id="resultat">0</div>
          <div class="muted" id="details">Taux : 0% â€¢ Entre des valeurs pour voir lâ€™estimation.</div>
          <div class="muted" id="manque"></div>

          <div class="btns">
            <button class="primary" id="p1">Palier 1</button>
            <button id="p2">Palier 2</button>
            <button id="p3">Palier 3</button>
            <button id="reset">Reset</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const nf = new Intl.NumberFormat("fr-FR");

    const tiers = [
      { name:"Palier 1", j:12, h:25, d:75000, taux:2 },
      { name:"Palier 2", j:15, h:40, d:150000, taux:3 },
      { name:"Palier 3", j:22, h:60, d:500000, taux:3.5 }
    ];

    const $ = (id) => document.getElementById(id);
    const jours = $("jours"), heures = $("heures"), diamants = $("diamants");
    const palierEl = $("palier"), resultatEl = $("resultat"), detailsEl = $("details"), manqueEl = $("manque");

    function v(){
      return {
        j: Math.max(0, Number(jours.value)||0),
        h: Math.max(0, Number(heures.value)||0),
        d: Math.max(0, Number(diamants.value)||0),
      };
    }

    function atteint(t, x){ return x.j>=t.j && x.h>=t.h && x.d>=t.d; }

    function detecterPalier(x){
      for(let i=tiers.length-1;i>=0;i--) if (atteint(tiers[i], x)) return tiers[i];
      return null;
    }

    function prochainPalier(x){
      for(const t of tiers) if(!atteint(t,x)) return t;
      return null;
    }

    function manquePour(t, x){
      const mj=Math.max(0,t.j-x.j), mh=Math.max(0,t.h-x.h), md=Math.max(0,t.d-x.d);
      const parts=[];
      if(mj) parts.push(`${nf.format(mj)} jour${mj>1?"s":""}`);
      if(mh) parts.push(`${nf.format(mh)} heure${mh>1?"s":""}`);
      if(md) parts.push(`${nf.format(md)} diamants`);
      return parts.length ? `Pour ${t.name} : il manque ${parts.join(" â€¢ ")}.` : `Tu as atteint ${t.name} âœ…`;
    }

    function calculer(){
      const x = v();
      const t = detecterPalier(x);

      const taux = t ? t.taux : 0;
      palierEl.textContent = t ? t.name : "Aucun palier";
      const reward = Math.floor(x.d * taux / 100);
      resultatEl.textContent = nf.format(reward);

      detailsEl.textContent = `Taux : ${String(taux).replace(".",",")}% â€¢ Formule : âŒŠdiamants Ã— taux / 100âŒ‹`;

      const next = prochainPalier(x);
      manqueEl.textContent = next ? manquePour(next, x) : "Palier max atteint ðŸŽ‰";
    }

    [jours, heures, diamants].forEach(inp => inp.addEventListener("input", calculer));

    $("p1").onclick = () => (jours.value=12, heures.value=25, diamants.value=75000, calculer());
    $("p2").onclick = () => (jours.value=15, heures.value=40, diamants.value=150000, calculer());
    $("p3").onclick = () => (jours.value=22, heures.value=60, diamants.value=500000, calculer());
    $("reset").onclick = () => (jours.value="", heures.value="", diamants.value="", calculer());

    calculer();
  </script>
</body>
</html>

</body>
</html>

